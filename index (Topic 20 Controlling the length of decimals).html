<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <meta http-equiv='X-UA-Compatible' content='IE=edge'>
        <title>Controlling the length of decimals</title>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <script type="text/JavaScript">
            var price = 9.95;
            var salesTax = 0.065;  //6.5%
            var total = price + (price * salesTax);

            alert(total);
            //The variable total now has a value of 10.59675.

            // But that isn't what you're going to charge the customer, is it? You're going to charge her an amount rounded off to two
            // decimal places: $10.60.

            var prettyTotal = total.toFixed(2);
            //To shorten a number to no decimals, leave the parentheses empty.
            //The statement above rounds the number represented by total to 2 places and assigns the result to the variable prettyTotal.
            // The number inside the parentheses tells JavaScript how many places to round the decimal to.
            alert(prettyTotal);

            //now, add dollar(or any currency) sign to set your price
            var currencyTotal = "$" + prettyTotal;
            alert(currencyTotal);

            //Unfortunately, the toFixed method comes with a surprise inside. If a decimal ends in 5, it usually rounds up, as you would
            // expect. But, depending on the browser, sometimes it rounds down! If, for example, you apply the method to 1.555, specifying
            // 2 decimal places, it may give you "1.56". Or it may produce "1.55".
            //There are sophisticated ways to address the problem. Here's an inelegant fix that uses methods you already know and understand.

            var num = 1.555;
            var str = num.toString();

            if (str.charAt(str.length - 1) === "5") {
                str = str.slice(str.lenght - 1) + "6";   //0, 
            }

            num = Number(str);
            prettyNum = num.toFixed(2);

            alert(prettyNum);

            //If the decimal ends in a 5, the code changes it to a 6 so the method is forced to round up when it should. Here's what's
            // happening, line-by-line:
                // 1. Converts the number to a string and assigns it to the variable str.
                // 2. Checks to see if the last character is "5".
                // 3. If so, slices off the "5" and appends "6".
                // 4. --(nothing happens)
                // 5. Converts it back to a number.
                // 6. Rounds it to 2 places.
        </script>
    </head>
    <body>
        <h1>Controlling the length of decimals</h1>
    </body>
</html>